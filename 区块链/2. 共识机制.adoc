= {toc-title}
:author: JouZiton
:doctype: book
:encoding: UTF-8
:lang: zh-CN
:numbered: 编号
:stem: latexmath
:icons: font
:source-highlighter: coderay
:sectnums:
:sectlinks:
:sectnumlevels: 4
:toc: left
:toc-title: 2. 共识机制
:toclevels: 4

[perfer]
== 前言

== 简介

共识机制是区块链网络中所有节点就区块的合法性达成一致的方法。

.常见的共识机制
. `Pow`: 工作量证明
. `Pos`: 权益证明
. `DPoS`: 委托权益证明
. `PoH`: 零知识证明
. `PBFT`:  Practical Byzantine Fault Tolerance
. `PoA`: 权威证明


== `Pow` 工作量证明

=== 基本原理

.基本流程（以比特币为例）
. *广播交易*
** 用户发起交易（如 A 向 B 转账 1 BTC）
** 交易被广播到网络中的节点。
. *矿工收集交易并组装成区块*
** 矿工节点会收集未确认的交易，并将它们放入一个区块（Block）。
** 区块头中包含：
*** 前一个区块的哈希值
*** Merkle Root（默克尔树根）（所有交易的哈希值组合）
*** 随机数（Nonce）
*** 时间戳
*** 难度目标
. *计算哈希值*
** 矿工通过不断调整随机数（Nonce），计算区块的哈希值: Hash(区块头) < 目标难度目标
** 哈希值必须满足难度目标，即哈希值的前几位必须是 0。
** 这意味着矿工要不断**调整随机数**（Nonce），计算新的哈希值，直到满足条件: `Hash=SHA-256(区块数据 + Nonce)`
** 由于哈希值的输出是**不可预测**的，矿工只能不断尝试不同的 Nonce，直到找到符合难度的**哈希值**。
. *找到正确哈希值并广播*
** 一旦矿工找到符合难度目标的哈希值，就会广播该区块给网络中的其他节点。
. 其他节点验证区块
** 其他节点快速验证：
*** 区块哈希值是否符合难度要求
*** 交易是否有效
** 通过验证后，该区块被加入到区块链。
. 奖励机制
** 矿工成功挖出区块后：
*** 获得 *比特币奖励*（*区块奖励* + *交易手续费*）.
*** 目前比特币的区块奖励约为 *6.25 BTC*（每四年减半）.

=== 代表项目 -- 比特币








== `Pos` 权益证明

== `DPoS` 委托权益证明

== `PoH` 零知识证明

== `PBFT`

== `PoA`


[Appendix-1]
== 附录
